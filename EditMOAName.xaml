<Activity mc:Ignorable="sads sap sap2010" x:Class="ActivityBuilder"
 xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities"
 xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:eac="clr-namespace:ESRI.ArcGIS.Client;assembly=ESRI.ArcGIS.Client"
 xmlns:eacg="clr-namespace:ESRI.ArcGIS.Client.Geometry;assembly=ESRI.ArcGIS.Client"
 xmlns:eact="clr-namespace:ESRI.ArcGIS.Client.Tasks;assembly=ESRI.ArcGIS.Client"
 xmlns:esri="http://schemas.esri.com/arcgis/client/2009"
 xmlns:gce="clr-namespace:Geocortex.Core.Extensions;assembly=Geocortex.Core"
 xmlns:gcx="http://apis.geocortex.com/2009"
 xmlns:gfc="clr-namespace:Geocortex.Forms.Client;assembly=Geocortex.EssentialsWpfApi"
 xmlns:gfci="clr-namespace:Geocortex.Forms.Client.Items;assembly=Geocortex.EssentialsWpfApi"
 xmlns:gr="clr-namespace:Geocortex.Reporting;assembly=Geocortex.Reporting"
 xmlns:gwa="clr-namespace:Geocortex.Workflow.Activities;assembly=Geocortex.Workflow"
 xmlns:gwa1="clr-namespace:Geocortex.Workflow.Activities;assembly=Geocortex.Workflow.Activities"
 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
 xmlns:mva="clr-namespace:Microsoft.VisualBasic.Activities;assembly=System.Activities"
 xmlns:s="clr-namespace:System;assembly=System.Core"
 xmlns:s1="clr-namespace:System;assembly=System"
 xmlns:s2="clr-namespace:System;assembly=mscorlib"
 xmlns:sa="clr-namespace:System.Activities;assembly=System.Activities"
 xmlns:sads="http://schemas.microsoft.com/netfx/2010/xaml/activities/debugger"
 xmlns:sap="http://schemas.microsoft.com/netfx/2009/xaml/activities/presentation"
 xmlns:sap2010="http://schemas.microsoft.com/netfx/2010/xaml/activities/presentation"
 xmlns:scg="clr-namespace:System.Collections.Generic;assembly=mscorlib"
 xmlns:sco="clr-namespace:System.Collections.ObjectModel;assembly=mscorlib"
 xmlns:sd="clr-namespace:System.Data;assembly=System.Data"
 xmlns:sl="clr-namespace:System.Linq;assembly=System.Core"
 xmlns:ssc="clr-namespace:System.Security.Claims;assembly=mscorlib"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <x:Members>
    <x:Property Name="WorkflowTitle" Type="InArgument(x:String)" />
    <x:Property Name="APGAuthenticationWorkflowUri" Type="InArgument(x:String)" />
    <x:Property Name="MineOperationEditMapServiceId" Type="InArgument(x:String)" />
    <x:Property Name="MineOperationEditLayerName" Type="InArgument(x:String)" />
  </x:Members>
  <mva:VisualBasic.Settings>
    <x:Null />
  </mva:VisualBasic.Settings>
  <sap2010:WorkflowViewState.IdRef>ActivityBuilder_1</sap2010:WorkflowViewState.IdRef>
  <TextExpression.NamespacesForImplementation>
    <sco:Collection x:TypeArguments="x:String">
      <x:String>System.Activities</x:String>
      <x:String>System.Activities.Statements</x:String>
      <x:String>System.Activities.Expressions</x:String>
      <x:String>System.Activities.Validation</x:String>
      <x:String>System.Activities.XamlIntegration</x:String>
      <x:String>ESRI.ArcGIS.Client</x:String>
      <x:String>ESRI.ArcGIS.Client.Geometry</x:String>
      <x:String>ESRI.ArcGIS.Client.Tasks</x:String>
      <x:String>Geocortex.Core.Extensions</x:String>
      <x:String>Geocortex.Workflow.Activities</x:String>
      <x:String>Geocortex.Forms.Client</x:String>
      <x:String>Geocortex.Forms.Client.Items</x:String>
      <x:String>Geocortex.Reporting</x:String>
      <x:String>System</x:String>
      <x:String>Microsoft.VisualBasic.Activities</x:String>
      <x:String>System.Collections.Generic</x:String>
      <x:String>System.Linq</x:String>
      <x:String>System.Windows.Markup</x:String>
      <x:String>Microsoft.VisualBasic.CompilerServices</x:String>
      <x:String>System.Windows</x:String>
      <x:String>System.Windows.Threading</x:String>
      <x:String>System.Windows.Controls</x:String>
      <x:String>System.ComponentModel</x:String>
    </sco:Collection>
  </TextExpression.NamespacesForImplementation>
  <TextExpression.ReferencesForImplementation>
    <sco:Collection x:TypeArguments="AssemblyReference">
      <AssemblyReference>System.Activities</AssemblyReference>
      <AssemblyReference>ESRI.ArcGIS.Client</AssemblyReference>
      <AssemblyReference>Geocortex.Core</AssemblyReference>
      <AssemblyReference>Geocortex.Workflow</AssemblyReference>
      <AssemblyReference>Geocortex.EssentialsWpfApi</AssemblyReference>
      <AssemblyReference>Geocortex.Reporting</AssemblyReference>
      <AssemblyReference>System.Core</AssemblyReference>
      <AssemblyReference>System</AssemblyReference>
      <AssemblyReference>mscorlib</AssemblyReference>
      <AssemblyReference>PresentationFramework</AssemblyReference>
      <AssemblyReference>WindowsBase</AssemblyReference>
      <AssemblyReference>PresentationCore</AssemblyReference>
      <AssemblyReference>System.Xaml</AssemblyReference>
      <AssemblyReference>System.ComponentModel.Composition</AssemblyReference>
      <AssemblyReference>System.ServiceModel</AssemblyReference>
      <AssemblyReference>System.Reactive.Core</AssemblyReference>
      <AssemblyReference>Microsoft.VisualBasic</AssemblyReference>
      <AssemblyReference>System.Windows.Presentation</AssemblyReference>
      <AssemblyReference>System.Windows.Controls.Input.Toolkit</AssemblyReference>
      <AssemblyReference>System.Runtime.WindowsRuntime</AssemblyReference>
    </sco:Collection>
  </TextExpression.ReferencesForImplementation>
  <Sequence sap2010:WorkflowViewState.IdRef="Sequence_5" mva:VisualBasic.Settings="Assembly references and imported namespaces serialized as XML namespaces">
    <Sequence.Variables>
      <Variable x:TypeArguments="x:String" Default="Default" Name="workflowContainer" />
      <Variable x:TypeArguments="x:String" Name="buttonResult" />
      <Variable x:TypeArguments="x:Boolean" Name="isAdminUser" />
      <Variable x:TypeArguments="scg:IDictionary(x:String, x:Object)" Name="APGAuthOutput" />
      <Variable x:TypeArguments="scg:IDictionary(x:String, x:Object)" Name="inputDictionary" />
    </Sequence.Variables>
    <Sequence DisplayName="Real Deal Check" sap2010:WorkflowViewState.IdRef="Sequence_22">
      <gwa1:CreateDictionary x:TypeArguments="x:String, x:Object" sap2010:WorkflowViewState.IdRef="CreateDictionary`2_2" Result="[inputDictionary]">
        <gwa1:CreateDictionary.Entries>
          <InArgument x:TypeArguments="x:Object" x:Key="WorkflowTitle">[WorkflowTitle]</InArgument>
        </gwa1:CreateDictionary.Entries>
      </gwa1:CreateDictionary>
      <gwa1:InvokeWorkflow sap2010:WorkflowViewState.IdRef="InvokeWorkflow_1" Inputs="[inputDictionary]" Outputs="[APGAuthOutput]" WorkflowXamlUri="[APGAuthenticationWorkflowUri]" />
    </Sequence>
    <gwa1:CommentOut sap2010:WorkflowViewState.IdRef="CommentOut_3">
      <gwa1:CreateDictionary x:TypeArguments="x:String, x:Object" DisplayName="Hardcode Test Authorise" sap2010:WorkflowViewState.IdRef="CreateDictionary`2_3" Result="[APGAuthOutput]">
        <gwa1:CreateDictionary.Entries>
          <InArgument x:TypeArguments="x:Object" x:Key="isAdminUser">[true]</InArgument>
        </gwa1:CreateDictionary.Entries>
      </gwa1:CreateDictionary>
    </gwa1:CommentOut>
    <If Condition="[CBool(APGAuthOutput(&quot;isAdminUser&quot;))]" sap2010:WorkflowViewState.IdRef="If_9">
      <If.Then>
        <Flowchart DisplayName="Edit Mine Name" sap2010:WorkflowViewState.IdRef="Flowchart_2">
          <Flowchart.Variables>
            <Variable x:TypeArguments="s2:Guid" Name="selectedMineId" />
            <Variable x:TypeArguments="x:String" Name="selectedMineName" />
            <Variable x:TypeArguments="x:String" Name="MineOperationEditLayerUrl" />
            <Variable x:TypeArguments="esri:FeatureSet" Name="featureSet1" />
            <Variable x:TypeArguments="x:Boolean" Name="proceedToRename" />
            <Variable x:TypeArguments="x:String" Name="newMineName" />
            <Variable x:TypeArguments="scg:IList(gcx:DataItem)" Name="mineList" />
            <Variable x:TypeArguments="x:Object" Name="selectedMine" />
          </Flowchart.Variables>
          <Flowchart.StartNode>
            <FlowStep x:Name="__ReferenceID1" sap2010:WorkflowViewState.IdRef="FlowStep_15">
              <Sequence DisplayName="Setup Sequence" sap2010:WorkflowViewState.IdRef="Sequence_11">
                <gwa1:ConfigureWorkflowContainer sap2010:WorkflowViewState.IdRef="ConfigureWorkflowContainer_3" IsBusy="[True]" Message="Retrieving details" ShowContainer="[True]" Title="[WorkflowTitle]" WorkflowContainerName="[workflowContainer]" />
                <gwa1:CommentOut sap2010:WorkflowViewState.IdRef="CommentOut_4">
                  <Parallel sap2010:WorkflowViewState.IdRef="Parallel_9">
                    <gwa1:GetExternalValue x:TypeArguments="x:String" sap2010:WorkflowViewState.IdRef="GetExternalValue`1_2" Key="MineName" Value="[selectedMineName]" />
                    <gwa1:GetExternalValue x:TypeArguments="s2:Guid" sap2010:WorkflowViewState.IdRef="GetExternalValue`1_1" Key="MineID" Value="[selectedMineId]" />
                  </Parallel>
                </gwa1:CommentOut>
                <gwa1:GetMapServiceInfo sap2010:WorkflowViewState.IdRef="GetMapServiceInfo_3" LayerName="[MineOperationEditLayerName]" LayerUrl="[MineOperationEditLayerUrl]" MapServiceId="[MineOperationEditMapServiceId]" />
                <gwa1:QueryTask DisplayName="Query for Total Mine Count" sap2010:WorkflowViewState.IdRef="QueryTask_4" OutFields="MineN, MineID" QueryServiceUrl="[MineOperationEditLayerUrl]" Results="[featureSet1]" ReturnDistinctValues="True" ReturnGeometry="False" Where="MineN Is Not Null and MineID Is Not Null" />
                <gwa1:SortFeatureSet FeatureSet="[featureSet1]" sap2010:WorkflowViewState.IdRef="SortFeatureSet_1" SortAttribute="MineN" SortDirection="[System.ComponentModel.ListSortDirection.Ascending]" />
                <gwa1:CreateList x:TypeArguments="gcx:DataItem" sap2010:WorkflowViewState.IdRef="CreateList`1_1" Result="[mineList]" />
                <ForEach x:TypeArguments="esri:Graphic" DisplayName="ForEach&lt;Graphic&gt;" sap2010:WorkflowViewState.IdRef="ForEach`1_2" Values="[featureSet1.features]">
                  <ActivityAction x:TypeArguments="esri:Graphic">
                    <ActivityAction.Argument>
                      <DelegateInArgument x:TypeArguments="esri:Graphic" Name="mine" />
                    </ActivityAction.Argument>
                    <Sequence sap2010:WorkflowViewState.IdRef="Sequence_24">
                      <Sequence.Variables>
                        <Variable x:TypeArguments="gcx:DataItem" Name="dataItem1" />
                      </Sequence.Variables>
                      <Assign sap2010:WorkflowViewState.IdRef="Assign_6">
                        <Assign.To>
                          <OutArgument x:TypeArguments="gcx:DataItem">[dataItem1]</OutArgument>
                        </Assign.To>
                        <Assign.Value>
                          <InArgument x:TypeArguments="gcx:DataItem">[new DataItem]</InArgument>
                        </Assign.Value>
                      </Assign>
                      <Assign sap2010:WorkflowViewState.IdRef="Assign_7">
                        <Assign.To>
                          <OutArgument x:TypeArguments="x:String">[dataItem1.Display]</OutArgument>
                        </Assign.To>
                        <Assign.Value>
                          <InArgument x:TypeArguments="x:String">[mine.attributes("MineN").ToString]</InArgument>
                        </Assign.Value>
                      </Assign>
                      <Assign sap2010:WorkflowViewState.IdRef="Assign_8">
                        <Assign.To>
                          <OutArgument x:TypeArguments="x:Object">[dataItem1.value]</OutArgument>
                        </Assign.To>
                        <Assign.Value>
                          <InArgument x:TypeArguments="x:String">[mine.attributes("MineN").ToString + "," + mine.attributes("MineID").ToString]</InArgument>
                        </Assign.Value>
                      </Assign>
                      <AddToCollection x:TypeArguments="gcx:DataItem" Collection="[mineList]" DisplayName="AddToCollection&lt;DataItem&gt;" sap2010:WorkflowViewState.IdRef="AddToCollection`1_1" Item="[dataItem1]" />
                    </Sequence>
                  </ActivityAction>
                </ForEach>
                <gwa1:ConfigureWorkflowContainer sap2010:WorkflowViewState.IdRef="ConfigureWorkflowContainer_4" IsBusy="[False]" ShowContainer="[False]" WorkflowContainerName="[workflowContainer]" />
              </Sequence>
              <FlowStep.Next>
                <FlowStep x:Name="__ReferenceID6" sap2010:WorkflowViewState.IdRef="FlowStep_28">
                  <gwa1:DisplayForm ButtonResultValue="[buttonResult]" DisplayName="Select Mine to change" FormDefinition="&lt;FormDefinition xmlns=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client&quot; xmlns:i=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;&lt;ContainerFormItem xmlns:a=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items&quot;&gt;&lt;a:ArgumentName/&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID&gt;Group1&lt;/a:ItemID&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;/&gt;&lt;a:Description&gt;Please select the Mine to be renamed, then click Next.&lt;/a:Description&gt;&lt;a:FormItems&gt;&lt;a:FormItem i:type=&quot;a:ComboBoxFormItem&quot;&gt;&lt;a:ArgumentName&gt;selectedMine&lt;/a:ArgumentName&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID&gt;ComboBox1&lt;/a:ItemID&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;&gt;&lt;b:ValidationItem i:type=&quot;b:RequiredValidationItem&quot;&gt;&lt;b:Message&gt;You must select a mine&lt;/b:Message&gt;&lt;/b:ValidationItem&gt;&lt;/a:ValidationItems&gt;&lt;a:DataItems/&gt;&lt;a:FilterByInputGeometry&gt;false&lt;/a:FilterByInputGeometry&gt;&lt;a:Label&gt;&lt;a:ArgumentName/&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID/&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;/&gt;&lt;a:LabelForItemID&gt;ComboBox1&lt;/a:LabelForItemID&gt;&lt;a:Text/&gt;&lt;/a:Label&gt;&lt;a:LayerSourceJson i:nil=&quot;true&quot;/&gt;&lt;a:ProxyUrl/&gt;&lt;a:QueryCascadingID/&gt;&lt;a:QueryDisplayOutputField/&gt;&lt;a:QueryServiceUrl/&gt;&lt;a:QueryValueOutputField/&gt;&lt;a:QueryWhereClause/&gt;&lt;a:SelectText&gt;Select a mine&lt;/a:SelectText&gt;&lt;a:SelectedValue i:nil=&quot;true&quot;/&gt;&lt;a:Token/&gt;&lt;/a:FormItem&gt;&lt;/a:FormItems&gt;&lt;a:MaxWidth&gt;INF&lt;/a:MaxWidth&gt;&lt;a:Orientation&gt;Vertical&lt;/a:Orientation&gt;&lt;a:VisibleControlID i:nil=&quot;true&quot;/&gt;&lt;a:VisibleControlValue i:nil=&quot;true&quot;/&gt;&lt;/ContainerFormItem&gt;&lt;KnownTypes xmlns:a=&quot;http://schemas.microsoft.com/2003/10/Serialization/Arrays&quot;&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.ContainerFormItem&lt;/a:string&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.ComboBoxFormItem&lt;/a:string&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.Validation.RequiredValidationItem&lt;/a:string&gt;&lt;/KnownTypes&gt;&lt;MaxHeight&gt;800&lt;/MaxHeight&gt;&lt;MaxWidth&gt;1000&lt;/MaxWidth&gt;&lt;Title&gt;Form Title&lt;/Title&gt;&lt;Version&gt;1.1&lt;/Version&gt;&lt;/FormDefinition&gt;" sap2010:WorkflowViewState.IdRef="DisplayForm_2" WorkflowContainerName="[workflowContainer]">
                    <gwa1:DisplayForm.Body>
                      <ActivityAction x:TypeArguments="gcx:FormDefinition">
                        <ActivityAction.Argument>
                          <DelegateInArgument x:TypeArguments="gcx:FormDefinition" Name="form" />
                        </ActivityAction.Argument>
                        <Sequence DisplayName="RuntimeModifications" sap2010:WorkflowViewState.IdRef="Sequence_25">
                          <Assign sap2010:WorkflowViewState.IdRef="Assign_9">
                            <Assign.To>
                              <OutArgument x:TypeArguments="x:String">[form.title]</OutArgument>
                            </Assign.To>
                            <Assign.Value>
                              <InArgument x:TypeArguments="x:String">[WorkflowTitle]</InArgument>
                            </Assign.Value>
                          </Assign>
                        </Sequence>
                      </ActivityAction>
                    </gwa1:DisplayForm.Body>
                    <gwa1:DisplayForm.Buttons>
                      <gcx:FormButton CausesValidation="True" IsDefault="False" Label="Next" Value="next" />
                      <gcx:FormButton CausesValidation="False" IsDefault="False" Label="Cancel" Value="Value" />
                    </gwa1:DisplayForm.Buttons>
                    <gwa1:DisplayForm.FormInArguments>
                      <gwa:ArgumentWrapper x:TypeArguments="InArgument(scg:IEnumerable(gcx:DataItem))" Argument="[mineList]" IsRequired="False" Name="ComboBox1" />
                    </gwa1:DisplayForm.FormInArguments>
                    <gwa1:DisplayForm.FormOutArguments>
                      <gwa:ArgumentWrapper x:TypeArguments="OutArgument" IsRequired="False" Name="selectedMine">
                        <gwa:ArgumentWrapper.Argument>
                          <OutArgument x:TypeArguments="x:Object">[selectedMine]</OutArgument>
                        </gwa:ArgumentWrapper.Argument>
                      </gwa:ArgumentWrapper>
                    </gwa1:DisplayForm.FormOutArguments>
                  </gwa1:DisplayForm>
                  <FlowStep.Next>
                    <FlowDecision x:Name="__ReferenceID7" Condition="[buttonResult = &quot;next&quot;]" sap2010:WorkflowViewState.IdRef="FlowDecision_5">
                      <FlowDecision.True>
                        <FlowStep x:Name="__ReferenceID8" sap2010:WorkflowViewState.IdRef="FlowStep_29">
                          <Sequence DisplayName="Set values" sap2010:WorkflowViewState.IdRef="Sequence_26">
                            <Sequence.Variables>
                              <Variable x:TypeArguments="x:String" Name="selectedMineValue" />
                            </Sequence.Variables>
                            <Assign sap2010:WorkflowViewState.IdRef="Assign_12">
                              <Assign.To>
                                <OutArgument x:TypeArguments="x:String">[selectedMineValue]</OutArgument>
                              </Assign.To>
                              <Assign.Value>
                                <InArgument x:TypeArguments="x:String">[selectedMine.tostring]</InArgument>
                              </Assign.Value>
                            </Assign>
                            <Assign sap2010:WorkflowViewState.IdRef="Assign_13">
                              <Assign.To>
                                <OutArgument x:TypeArguments="x:String">[selectedMineName]</OutArgument>
                              </Assign.To>
                              <Assign.Value>
                                <InArgument x:TypeArguments="x:String">[selectedMineValue.split(","c)(0)]</InArgument>
                              </Assign.Value>
                            </Assign>
                            <Assign sap2010:WorkflowViewState.IdRef="Assign_14">
                              <Assign.To>
                                <OutArgument x:TypeArguments="s2:Guid">[selectedMineId]</OutArgument>
                              </Assign.To>
                              <Assign.Value>
                                <InArgument x:TypeArguments="s2:Guid">[new Guid(selectedMineValue.split(","c)(1))]</InArgument>
                              </Assign.Value>
                            </Assign>
                          </Sequence>
                          <FlowStep.Next>
                            <FlowStep x:Name="__ReferenceID0" sap2010:WorkflowViewState.IdRef="FlowStep_27">
                              <gwa1:DisplayForm ButtonResultValue="[buttonResult]" DisplayName="Enter Mine Name" FormDefinition="&lt;FormDefinition xmlns=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client&quot; xmlns:i=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;&lt;ContainerFormItem xmlns:a=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items&quot;&gt;&lt;a:ArgumentName/&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID&gt;Group1&lt;/a:ItemID&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;/&gt;&lt;a:Description&gt;Please enter a new name for the [current mine], then click Next.&lt;/a:Description&gt;&lt;a:FormItems&gt;&lt;a:FormItem i:type=&quot;a:TextBoxFormItem&quot;&gt;&lt;a:ArgumentName&gt;MineN&lt;/a:ArgumentName&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID&gt;TextBox1&lt;/a:ItemID&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;&gt;&lt;b:ValidationItem i:type=&quot;b:RequiredValidationItem&quot;&gt;&lt;b:Message&gt;Please enter a Name&lt;/b:Message&gt;&lt;/b:ValidationItem&gt;&lt;b:ValidationItem i:type=&quot;b:RegexValidationItem&quot;&gt;&lt;b:Message&gt;Name must not contain commas or quote marks&lt;/b:Message&gt;&lt;b:Expression&gt;^[-()/. a-zA-Z0-9]+$&lt;/b:Expression&gt;&lt;b:IgnoreCase&gt;false&lt;/b:IgnoreCase&gt;&lt;/b:ValidationItem&gt;&lt;/a:ValidationItems&gt;&lt;a:DefaultText/&gt;&lt;a:InputScope&gt;Default&lt;/a:InputScope&gt;&lt;a:Label&gt;&lt;a:ArgumentName/&gt;&lt;a:IsVisible&gt;true&lt;/a:IsVisible&gt;&lt;a:ItemID/&gt;&lt;a:ToolTip/&gt;&lt;a:ValidationItems xmlns:b=&quot;http://schemas.datacontract.org/2004/07/Geocortex.Forms.Client.Items.Validation&quot;/&gt;&lt;a:LabelForItemID&gt;TextBox1&lt;/a:LabelForItemID&gt;&lt;a:Text&gt;Mine Name&lt;/a:Text&gt;&lt;/a:Label&gt;&lt;a:ReadOnly&gt;false&lt;/a:ReadOnly&gt;&lt;a:TextboxWidth&gt;200&lt;/a:TextboxWidth&gt;&lt;/a:FormItem&gt;&lt;/a:FormItems&gt;&lt;a:MaxWidth&gt;INF&lt;/a:MaxWidth&gt;&lt;a:Orientation&gt;Vertical&lt;/a:Orientation&gt;&lt;a:VisibleControlID i:nil=&quot;true&quot;/&gt;&lt;a:VisibleControlValue i:nil=&quot;true&quot;/&gt;&lt;/ContainerFormItem&gt;&lt;KnownTypes xmlns:a=&quot;http://schemas.microsoft.com/2003/10/Serialization/Arrays&quot;&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.ContainerFormItem&lt;/a:string&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.TextBoxFormItem&lt;/a:string&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.Validation.RequiredValidationItem&lt;/a:string&gt;&lt;a:string&gt;Geocortex.Forms.Client.Items.Validation.RegexValidationItem&lt;/a:string&gt;&lt;/KnownTypes&gt;&lt;MaxHeight&gt;800&lt;/MaxHeight&gt;&lt;MaxWidth&gt;1000&lt;/MaxWidth&gt;&lt;Title&gt;Form Title&lt;/Title&gt;&lt;Version&gt;1.1&lt;/Version&gt;&lt;/FormDefinition&gt;" sap2010:WorkflowViewState.IdRef="DisplayForm_1" WorkflowContainerName="[workflowContainer]">
                                <gwa1:DisplayForm.Body>
                                  <ActivityAction x:TypeArguments="gcx:FormDefinition">
                                    <ActivityAction.Argument>
                                      <DelegateInArgument x:TypeArguments="gcx:FormDefinition" Name="form" />
                                    </ActivityAction.Argument>
                                    <Sequence DisplayName="RuntimeModifications" sap2010:WorkflowViewState.IdRef="Sequence_23">
                                      <Assign sap2010:WorkflowViewState.IdRef="Assign_2">
                                        <Assign.To>
                                          <OutArgument x:TypeArguments="x:String">[form.title]</OutArgument>
                                        </Assign.To>
                                        <Assign.Value>
                                          <InArgument x:TypeArguments="x:String">[WorkflowTitle]</InArgument>
                                        </Assign.Value>
                                      </Assign>
                                      <Assign sap2010:WorkflowViewState.IdRef="Assign_3">
                                        <Assign.To>
                                          <OutArgument x:TypeArguments="x:String">[form.Find(Of ContainerFormItem)("Group1").Description]</OutArgument>
                                        </Assign.To>
                                        <Assign.Value>
                                          <InArgument x:TypeArguments="x:String">[string.format("Please enter a new name for the {0} mine, then click Next.", selectedMineName)]</InArgument>
                                        </Assign.Value>
                                      </Assign>
                                      <Assign sap2010:WorkflowViewState.IdRef="Assign_16">
                                        <Assign.To>
                                          <OutArgument x:TypeArguments="x:String">[form.Find(Of TextBoxFormItem)("TextBox1").DefaultText]</OutArgument>
                                        </Assign.To>
                                        <Assign.Value>
                                          <InArgument x:TypeArguments="x:String">[newMineName]</InArgument>
                                        </Assign.Value>
                                      </Assign>
                                    </Sequence>
                                  </ActivityAction>
                                </gwa1:DisplayForm.Body>
                                <gwa1:DisplayForm.Buttons>
                                  <gcx:FormButton CausesValidation="True" IsDefault="False" Label="Next" Value="next" />
                                  <gcx:FormButton CausesValidation="False" IsDefault="False" Label="Cancel" Value="Value" />
                                </gwa1:DisplayForm.Buttons>
                                <gwa1:DisplayForm.FormOutArguments>
                                  <gwa:ArgumentWrapper x:TypeArguments="OutArgument" IsRequired="False" Name="MineN">
                                    <gwa:ArgumentWrapper.Argument>
                                      <OutArgument x:TypeArguments="x:String">[newMineName]</OutArgument>
                                    </gwa:ArgumentWrapper.Argument>
                                  </gwa:ArgumentWrapper>
                                </gwa1:DisplayForm.FormOutArguments>
                              </gwa1:DisplayForm>
                              <FlowStep.Next>
                                <FlowDecision x:Name="__ReferenceID4" Condition="[buttonResult = &quot;next&quot;]" sap2010:WorkflowViewState.IdRef="FlowDecision_3">
                                  <FlowDecision.True>
                                    <FlowDecision x:Name="__ReferenceID9" Condition="[mineList.any(function(x) x.display = newMineName)]" sap2010:WorkflowViewState.IdRef="FlowDecision_6">
                                      <FlowDecision.True>
                                        <FlowStep x:Name="__ReferenceID10" sap2010:WorkflowViewState.IdRef="FlowStep_30">
                                          <gwa1:Alert DisplayName="Name already used, try different" sap2010:WorkflowViewState.IdRef="Alert_5" Text="[newMineName + &quot; is already in use, please choose another name&quot;]" Title="[WorkflowTitle]" />
                                          <FlowStep.Next>
                                            <x:Reference>__ReferenceID0</x:Reference>
                                          </FlowStep.Next>
                                        </FlowStep>
                                      </FlowDecision.True>
                                      <FlowDecision.False>
                                        <FlowStep x:Name="__ReferenceID5" sap2010:WorkflowViewState.IdRef="FlowStep_22">
                                          <gwa1:Confirm DisplayName="Confirm Rename" sap2010:WorkflowViewState.IdRef="Confirm_2" Result="[proceedToRename]" Text="[string.format(&quot;The {0} mine will be renamed to {1}. Is this what you want?&quot;, selectedMineName, newMineName)]" Title="[WorkflowTitle]" />
                                          <FlowStep.Next>
                                            <FlowDecision x:Name="__ReferenceID2" Condition="[proceedToRename]" sap2010:WorkflowViewState.IdRef="FlowDecision_4">
                                              <FlowDecision.True>
                                                <FlowStep x:Name="__ReferenceID3" sap2010:WorkflowViewState.IdRef="FlowStep_8">
                                                  <Sequence DisplayName="Rename Sequence" sap2010:WorkflowViewState.IdRef="Sequence_10">
                                                    <Sequence.Variables>
                                                      <Variable x:TypeArguments="scg:IList(esri:EditResultItem)" Name="editresultList" />
                                                    </Sequence.Variables>
                                                    <gwa1:ConfigureWorkflowContainer sap2010:WorkflowViewState.IdRef="ConfigureWorkflowContainer_7" IsBusy="[true]" Message="Renaming mine..." ShowContainer="[True]" Title="[WorkflowTitle]" WorkflowContainerName="[workflowContainer]" />
                                                    <gwa1:QueryTask DisplayName="Query for Total Mine Count" sap2010:WorkflowViewState.IdRef="QueryTask_3" OutFields="*" QueryServiceUrl="[MineOperationEditLayerUrl]" Results="[featureSet1]" ReturnGeometry="False" Where="[string.Format(&quot;MineID='{0}'&quot;, selectedMineId.ToString)]" />
                                                    <ForEach x:TypeArguments="esri:Graphic" DisplayName="Update each MOA with new name" sap2010:WorkflowViewState.IdRef="ForEach`1_1" Values="[featureSet1.features]">
                                                      <ActivityAction x:TypeArguments="esri:Graphic">
                                                        <ActivityAction.Argument>
                                                          <DelegateInArgument x:TypeArguments="esri:Graphic" Name="gra" />
                                                        </ActivityAction.Argument>
                                                        <Sequence sap2010:WorkflowViewState.IdRef="Sequence_27">
                                                          <Assign DisplayName="Assign MineN" sap2010:WorkflowViewState.IdRef="Assign_4">
                                                            <Assign.To>
                                                              <OutArgument x:TypeArguments="x:Object">[gra.attributes("MineN")]</OutArgument>
                                                            </Assign.To>
                                                            <Assign.Value>
                                                              <InArgument x:TypeArguments="x:Object">[newMineName]</InArgument>
                                                            </Assign.Value>
                                                          </Assign>
                                                          <Assign DisplayName="Assign F__ESU_Mine" sap2010:WorkflowViewState.IdRef="Assign_15">
                                                            <Assign.To>
                                                              <OutArgument x:TypeArguments="x:Object">[gra.attributes("F__ESU_Mine")]</OutArgument>
                                                            </Assign.To>
                                                            <Assign.Value>
                                                              <InArgument x:TypeArguments="x:Object">[newMineName]</InArgument>
                                                            </Assign.Value>
                                                          </Assign>
                                                        </Sequence>
                                                      </ActivityAction>
                                                    </ForEach>
                                                    <gwa1:UpdateFeatures FeatureLayerUrl="[MineOperationEditLayerUrl]" Features="[featureSet1]" sap2010:WorkflowViewState.IdRef="UpdateFeatures_1" Results="[editresultList]" />
                                                    <gwa1:ConfigureWorkflowContainer sap2010:WorkflowViewState.IdRef="ConfigureWorkflowContainer_8" IsBusy="[False]" ShowContainer="[False]" WorkflowContainerName="[workflowContainer]" />
                                                    <If Condition="[editresultList(0).success]" sap2010:WorkflowViewState.IdRef="If_2">
                                                      <If.Then>
                                                        <Sequence sap2010:WorkflowViewState.IdRef="Sequence_13">
                                                          <Sequence.Variables>
                                                            <Variable x:TypeArguments="x:String" Name="currentMineName" />
                                                          </Sequence.Variables>
                                                          <Parallel sap2010:WorkflowViewState.IdRef="Parallel_10">
                                                            <gwa1:RefreshMap sap2010:WorkflowViewState.IdRef="RefreshMap_5" MapServiceId="[MineOperationEditMapServiceId]" />
                                                            <gwa1:GetExternalValue x:TypeArguments="x:String" sap2010:WorkflowViewState.IdRef="GetExternalValue`1_3" Key="MineName" Value="[currentMineName]" />
                                                          </Parallel>
                                                          <If Condition="[currentMineName = selectedMineName]" DisplayName="If the renamed mine happens to be the current mine on the viewer" sap2010:WorkflowViewState.IdRef="If_10">
                                                            <If.Then>
                                                              <Sequence sap2010:WorkflowViewState.IdRef="Sequence_28">
                                                                <gwa1:SetExternalValue sap2010:WorkflowViewState.IdRef="SetExternalValue_1" Key="MineName" Value="[newMineName]" />
                                                                <gwa1:DynamicExternal ExternalId="DisplayProjectInfo" sap2010:WorkflowViewState.IdRef="DynamicExternal_1">
                                                                  <gwa1:DynamicExternal.InArguments>
                                                                    <gwa:ArgumentWrapper x:TypeArguments="InArgument" IsRequired="False" Name="MineName">
                                                                      <gwa:ArgumentWrapper.Argument>
                                                                        <InArgument x:TypeArguments="x:String">[newMineName]</InArgument>
                                                                      </gwa:ArgumentWrapper.Argument>
                                                                    </gwa:ArgumentWrapper>
                                                                    <gwa:ArgumentWrapper x:TypeArguments="InArgument" IsRequired="False" Name="LayerYear">
                                                                      <gwa:ArgumentWrapper.Argument>
                                                                        <InArgument x:TypeArguments="x:String">[string.empty]</InArgument>
                                                                      </gwa:ArgumentWrapper.Argument>
                                                                    </gwa:ArgumentWrapper>
                                                                    <gwa:ArgumentWrapper x:TypeArguments="InArgument" IsRequired="False" Name="ReportYear">
                                                                      <gwa:ArgumentWrapper.Argument>
                                                                        <InArgument x:TypeArguments="x:String">[datetime.now.year.tostring]</InArgument>
                                                                      </gwa:ArgumentWrapper.Argument>
                                                                    </gwa:ArgumentWrapper>
                                                                  </gwa1:DynamicExternal.InArguments>
                                                                </gwa1:DynamicExternal>
                                                              </Sequence>
                                                            </If.Then>
                                                          </If>
                                                          <gwa1:Alert sap2010:WorkflowViewState.IdRef="Alert_2" Text="[string.format(&quot;The {0} mine has been successfully renamed to {1}.&quot;, selectedMineName, newMineName)]" Title="[WorkflowTitle]" />
                                                        </Sequence>
                                                      </If.Then>
                                                    </If>
                                                  </Sequence>
                                                </FlowStep>
                                              </FlowDecision.True>
                                              <FlowDecision.False>
                                                <x:Reference>__ReferenceID0</x:Reference>
                                              </FlowDecision.False>
                                            </FlowDecision>
                                          </FlowStep.Next>
                                        </FlowStep>
                                      </FlowDecision.False>
                                    </FlowDecision>
                                  </FlowDecision.True>
                                </FlowDecision>
                              </FlowStep.Next>
                            </FlowStep>
                          </FlowStep.Next>
                        </FlowStep>
                      </FlowDecision.True>
                    </FlowDecision>
                  </FlowStep.Next>
                </FlowStep>
              </FlowStep.Next>
            </FlowStep>
          </Flowchart.StartNode>
          <x:Reference>__ReferenceID1</x:Reference>
          <x:Reference>__ReferenceID2</x:Reference>
          <x:Reference>__ReferenceID3</x:Reference>
          <x:Reference>__ReferenceID4</x:Reference>
          <x:Reference>__ReferenceID5</x:Reference>
          <x:Reference>__ReferenceID0</x:Reference>
          <x:Reference>__ReferenceID6</x:Reference>
          <x:Reference>__ReferenceID7</x:Reference>
          <x:Reference>__ReferenceID8</x:Reference>
          <x:Reference>__ReferenceID9</x:Reference>
          <x:Reference>__ReferenceID10</x:Reference>
        </Flowchart>
      </If.Then>
      <If.Else>
        <Sequence sap2010:WorkflowViewState.IdRef="Sequence_19">
          <gwa1:Alert sap2010:WorkflowViewState.IdRef="Alert_4" Text="This tool is for admin users only." Title="Access Denied" />
          <gwa1:ExitWorkflow sap2010:WorkflowViewState.IdRef="ExitWorkflow_1" />
        </Sequence>
      </If.Else>
    </If>
    <sads:DebugSymbol.Symbol>d6kBQzpcUHJvZ3JhbSBGaWxlcyAoeDg2KVxMYXRpdHVkZSBHZW9ncmFwaGljc1xHZW9jb3J0ZXggRXNzZW50aWFsc1xFc3NlbnRpYWxzLjQuOC4yXFJFU1QgRWxlbWVudHNcU2l0ZXNcRFJFX1dvbGxvbmdvbmdcUmVzb3VyY2VzXFdvcmtmbG93c1xCYWNrdXAgMDYtMDMtMThcRWRpdE1PQU5hbWUueGFtbKEBWwOxAw4CAQFdNF09AgECYwVqEAMBzQFrBXEXAwHMAXIFrwMKAgEDZAdoHwMB1QFpB2m3AQMBzgFyE3JEAgEEdAmnAxUCAQuqAwmtAxQCAQZmSGZXAwHYAWSBAWSUAQMB1gFplAFptAEDAdMBaVZpaQMB0QFpcmmDAQMBzwGBAQ+zARoDAZcBtgET1gEmAwGJAdgBRdgBaAMBhwHbARv3ASYCAXj6AR+nAjICAWOpAlGpAnQCAWGrAlWrAooBAgFgtgIrtgK2AgIBWLgCXbgCcAIBVrsCM4QDPgIBEa4CK64C/AECAQyrAwurA4MBAgEIrAMLrANRAgEHggERggH7AQMBxAGDARGIASMDAcMBiQERiQHgAQMBvAGKARGKAb4CAwG0AYsBEYsB0AEDAbABjAERjAGIAQMBrgGNARGxARsDAZ0BsgERsgHIAQMBmAG2AXu2AY8WAwGWAbYB1ha2AesWAwGUAbYBN7YBRwMBkgHNAXHNAX0DAZEB0gFD0gFRAwGPAbwBGcUBJAMBigHfAR3mASYDAYIB5wEd7gEmAgF97wEd9gEmAgF5owJPowJcAgF2+gGBAfoBlBcCAXX6AdsX+gHwFwIBc/oBQ/oBUwIBcYACJZkCMAIBZLYCogG2ApsCAgFdtgKJAbYCnAECAVu2AqICtgKzAgIBWb8CNb8CnQICAU7AAjXAAtQCAgFGwQI12QI/AgE72gI12gLhAQIBNtsCNdsC7AECATHcAjWDAzoCARKuApUBrgLhAQIBD64C6AGuAvkBAgENqwNGqwNqAgEKqwNxqwOAAQIBCYIBiQGCAZ0BAwHLAYIBeIIBgAEDAcoBggHjAYIB+AEDAcgBggGsAYIBtAEDAccBggG7AYIBzAEDAcUBiQGRAYkBrgEDAcEBiQFpiQGHAQMBvwGJAbwBiQHdAQMBvQGKAe0BigHzAQMBuwGKAYIBigGRAQMBugGKAcgBigHXAQMBuQGKAZECigG7AgMBuAGKAYMCigGKAgMBtwGKAaIBigG/AQMBtQGLAYIBiwGJAQMBswGLAZgBiwHNAQMBsgGLATGLAUADAbEBjAF5jAGFAQMBrwGNAZMBjQGrAQMBrQGSARWvASADAZ4BsgF4sgGBAQMBnAGyAbABsgHFAQMBmgGyAZABsgGZAQMBmQG9ARvEASQDAYsB5AFI5AFfAwGFAeEBSeEBXAMBgwHsAUjsAWoDAYAB6QFJ6QFbAgF+9AFH9AFzAgF88QFI8QFYAgF6gQIniAIwAgFtiQInkAIwAgFpkQInmAIwAgFlvwKtAb8CvwECAVW/ApwBvwKkAQIBVL8ChQK/ApoCAgFSvwLOAb8C1gECAVG/At0BvwLuAQIBT8ACpgHAAqkBAgFNwALgAcAC7wECAUzAAo0CwALRAgIBSsAC/wHAAoYCAgFJwAK6AcAC1wECAUfBAr4BwQLWAQIBRcYCOdcCRAIBPNoCWtoCdwIBOdoCgQHaApABAgE42gLMAdoC3gECATfbApwB2wKlAQIBNdsC1AHbAukBAgEz2wK0AdsCvQECATLcAkPcAmACARPeAjmBA0QCARSWARedASADAakBngEXpQEgAwGmAaYBF60BIAMBowGuAReuAdgBAwGfAcIBRsIBVQMBjQG/AUe/AVMDAYwBhgJShgJhAgFvgwJTgwJfAgFujgJSjgKxAQIBa4sCU4sCigECAWqWAlKWAl8CAWeTAlOTAooBAgFmxwI7zgJEAgFBzwI71gJEAgE94gI75QJGAgEp5gI7/wJAAgEbgAM7gAOBAgIBFZsBRpsBVAMBrAGYAUeYAVIDAaoBowFCowFlAwGoAaABQ6ABVgMBpwGrAUKrAZABAwGlAagBQ6gBVAMBpAGuAVKuAV4DAaIBrgHIAa4B1QEDAaABzAJmzAJzAgFDyQJnyQKAAQIBQtQCZtQCcwIBP9ECZ9EChgECAT7jAj3jAq4BAgEu5AI95ALRAQIBKuYCSeYCbwIBHOgCP/0CSgIBH4ADdoAD5gECARiAA+0BgAP+AQIBFuMCigHjAqsBAgEv5AK7AeQCzgECASzkAqoB5AK0AQIBK+kCQekCtAECASXqAkH8AlgCASDpAqIB6QKxAQIBJ+kCkQHpApsBAgEm+AJw+AKMAQIBJO4CcO4CfQIBIvMCcPMCfgIBIQ==</sads:DebugSymbol.Symbol>
  </Sequence>
  <sap2010:WorkflowViewState.ViewStateManager>
    <sap2010:ViewStateManager>
      <sap2010:ViewStateData Id="CreateDictionary`2_2" sap:VirtualizedContainerService.HintSize="288,86" />
      <sap2010:ViewStateData Id="InvokeWorkflow_1" sap:VirtualizedContainerService.HintSize="288,111" />
      <sap2010:ViewStateData Id="Sequence_22" sap:VirtualizedContainerService.HintSize="464,361">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="CreateDictionary`2_3" sap:VirtualizedContainerService.HintSize="224,86" />
      <sap2010:ViewStateData Id="CommentOut_3" sap:VirtualizedContainerService.HintSize="464,162" />
      <sap2010:ViewStateData Id="ConfigureWorkflowContainer_3" sap:VirtualizedContainerService.HintSize="604,186" />
      <sap2010:ViewStateData Id="GetExternalValue`1_2" sap:VirtualizedContainerService.HintSize="218,86" />
      <sap2010:ViewStateData Id="GetExternalValue`1_1" sap:VirtualizedContainerService.HintSize="218,86" />
      <sap2010:ViewStateData Id="Parallel_9" sap:VirtualizedContainerService.HintSize="590,132" />
      <sap2010:ViewStateData Id="CommentOut_4" sap:VirtualizedContainerService.HintSize="604,208" />
      <sap2010:ViewStateData Id="GetMapServiceInfo_3" sap:VirtualizedContainerService.HintSize="604,136">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="QueryTask_4" sap:VirtualizedContainerService.HintSize="604,243">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="SortFeatureSet_1" sap:VirtualizedContainerService.HintSize="604,111" />
      <sap2010:ViewStateData Id="CreateList`1_1" sap:VirtualizedContainerService.HintSize="604,61" />
      <sap2010:ViewStateData Id="Assign_6" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Assign_7" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Assign_8" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="AddToCollection`1_1" sap:VirtualizedContainerService.HintSize="242,22" />
      <sap2010:ViewStateData Id="Sequence_24" sap:VirtualizedContainerService.HintSize="264,446">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="ForEach`1_2" sap:VirtualizedContainerService.HintSize="604,594" />
      <sap2010:ViewStateData Id="ConfigureWorkflowContainer_4" sap:VirtualizedContainerService.HintSize="604,186" />
      <sap2010:ViewStateData Id="Sequence_11" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_9" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Sequence_25" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="DisplayForm_2" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_12" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Assign_13" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Assign_14" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Sequence_26" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_2" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Assign_3" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Assign_16" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Sequence_23" sap:VirtualizedContainerService.HintSize="264,384">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="DisplayForm_1" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Alert_5" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_30">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">85,484.02</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">185,484.02 185,331 450,331</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Confirm_2" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="ConfigureWorkflowContainer_7" sap:VirtualizedContainerService.HintSize="785,186">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="QueryTask_3" sap:VirtualizedContainerService.HintSize="785,243">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Assign_4" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Assign_15" sap:VirtualizedContainerService.HintSize="242,60" />
      <sap2010:ViewStateData Id="Sequence_27" sap:VirtualizedContainerService.HintSize="264,284">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="ForEach`1_1" sap:VirtualizedContainerService.HintSize="785,432" />
      <sap2010:ViewStateData Id="UpdateFeatures_1" sap:VirtualizedContainerService.HintSize="785,111" />
      <sap2010:ViewStateData Id="ConfigureWorkflowContainer_8" sap:VirtualizedContainerService.HintSize="785,186">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="RefreshMap_5" sap:VirtualizedContainerService.HintSize="266,86" />
      <sap2010:ViewStateData Id="GetExternalValue`1_3" sap:VirtualizedContainerService.HintSize="218,86" />
      <sap2010:ViewStateData Id="Parallel_10" sap:VirtualizedContainerService.HintSize="638,132" />
      <sap2010:ViewStateData Id="SetExternalValue_1" sap:VirtualizedContainerService.HintSize="482,86" />
      <sap2010:ViewStateData Id="DynamicExternal_1" sap:VirtualizedContainerService.HintSize="482,223" />
      <sap2010:ViewStateData Id="Sequence_28" sap:VirtualizedContainerService.HintSize="504,473">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="If_10" sap:VirtualizedContainerService.HintSize="638,621" />
      <sap2010:ViewStateData Id="Alert_2" sap:VirtualizedContainerService.HintSize="638,86" />
      <sap2010:ViewStateData Id="Sequence_13" sap:VirtualizedContainerService.HintSize="660,1043">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="If_2" sap:VirtualizedContainerService.HintSize="785,1191" />
      <sap2010:ViewStateData Id="Sequence_10" sap:VirtualizedContainerService.HintSize="200,51">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_8">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">50,674.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_4" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">335,656.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="TrueConnector">335,700 250,700</av:PointCollection>
            <av:PointCollection x:Key="FalseConnector">405,700 680,700 680,331 650,331</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_22">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">270,574.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">370,625.5 370,656.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_6" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">335,466.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="FalseConnector">405,510 500,510 500,600 470,600</av:PointCollection>
            <av:PointCollection x:Key="TrueConnector">335,510 305,510 305,509.52 285,509.52</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_3" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">515,386.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="TrueConnector">515,430 370,430 370,466.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_27">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">450,305.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">550,356.5 550,386.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_29">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">450,204.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">550,255.5 550,305.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowDecision_5" sap:VirtualizedContainerService.HintSize="70,87">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            <av:Point x:Key="ShapeLocation">715,186.5</av:Point>
            <av:Size x:Key="ShapeSize">70,87</av:Size>
            <av:PointCollection x:Key="TrueConnector">715,230 650,230</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_28">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">650,105.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">750,156.5 750,186.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="FlowStep_15">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">650,24.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">750,75.5 750,105.5</av:PointCollection>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Flowchart_2" sap:VirtualizedContainerService.HintSize="893,798">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">False</x:Boolean>
            <av:Point x:Key="ShapeLocation">490,12.5</av:Point>
            <av:Size x:Key="ShapeSize">60,75</av:Size>
            <x:Double x:Key="Width">878.93000000000018</x:Double>
            <av:PointCollection x:Key="ConnectorLocation">550,50 650,50</av:PointCollection>
            <x:Boolean x:Key="IsPinned">False</x:Boolean>
            <x:Double x:Key="Height">762.04</x:Double>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="Alert_4" sap:VirtualizedContainerService.HintSize="212,86">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="ExitWorkflow_1" sap:VirtualizedContainerService.HintSize="212,22" />
      <sap2010:ViewStateData Id="Sequence_19" sap:VirtualizedContainerService.HintSize="234,272">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="If_9" sap:VirtualizedContainerService.HintSize="464,420" />
      <sap2010:ViewStateData Id="Sequence_5" sap:VirtualizedContainerService.HintSize="486,1147">
        <sap:WorkflowViewStateService.ViewState>
          <scg:Dictionary x:TypeArguments="x:String, x:Object">
            <x:Boolean x:Key="IsExpanded">True</x:Boolean>
          </scg:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
      </sap2010:ViewStateData>
      <sap2010:ViewStateData Id="ActivityBuilder_1" sap:VirtualizedContainerService.HintSize="526,1227" />
    </sap2010:ViewStateManager>
  </sap2010:WorkflowViewState.ViewStateManager>
</Activity>